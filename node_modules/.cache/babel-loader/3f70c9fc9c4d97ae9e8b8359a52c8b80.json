{"ast":null,"code":"import _classCallCheck from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";import Scream from\"../components/scream/Scream\";import StaticProfile from\"../components/profile/StaticProfile\";import ScreamSkeleton from\"../util/ScreamSkeleton\";import ProfileSkeleton from\"../util/ProfileSkeleton\";//NUI\nimport Grid from\"@material-ui/core/Grid\";//Redux\nimport{connect}from\"react-redux\";import{getUserData}from\"../redux/actions/dataActions\";var user=/*#__PURE__*/function(_Component){_inherits(user,_Component);var _super=_createSuper(user);function user(){var _this;_classCallCheck(this,user);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={profile:null,screamIdParam:null};return _this;}_createClass(user,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var handle=this.props.match.params.handle;var screamId=this.props.match.params.screamId;this.props.getUserData(handle);if(screamId)this.setState({screamIdParam:screamId});axios.get(\"/user/\".concat(handle)).then(function(res){_this2.setState({profile:res.data.user});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this$props$data=this.props.data,screams=_this$props$data.screams,loading=_this$props$data.loading;var screamIdParam=this.state.screamIdParam;var screamsMarkup=loading?/*#__PURE__*/React.createElement(ScreamSkeleton,null):screams===null?/*#__PURE__*/React.createElement(\"p\",null,\"No screams from this user\"):!screamIdParam?screams.map(function(scream){return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream});}):screams.map(function(scream){if(scream.screamId!==screamIdParam)return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream});else return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream,openDialog:true});});return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:10},/*#__PURE__*/React.createElement(Grid,{item:true,sm:8,xs:12},screamsMarkup),/*#__PURE__*/React.createElement(Grid,{item:true,sm:4,xs:12},this.state.profile===null?/*#__PURE__*/React.createElement(ProfileSkeleton,null):/*#__PURE__*/React.createElement(StaticProfile,{profile:this.state.profile})));}}]);return user;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.data};};export default connect(mapStateToProps,{getUserData:getUserData})(user);","map":{"version":3,"sources":["/home/afe/Documents/project/Social Ape/social-ape-client/src/pages/user.js"],"names":["React","Component","axios","Scream","StaticProfile","ScreamSkeleton","ProfileSkeleton","Grid","connect","getUserData","user","state","profile","screamIdParam","handle","props","match","params","screamId","setState","get","then","res","data","catch","err","console","log","screams","loading","screamsMarkup","map","scream","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport Scream from \"../components/scream/Scream\";\nimport StaticProfile from \"../components/profile/StaticProfile\";\nimport ScreamSkeleton from \"../util/ScreamSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\n\n//NUI\nimport Grid from \"@material-ui/core/Grid\";\n\n//Redux\nimport { connect } from \"react-redux\";\nimport { getUserData } from \"../redux/actions/dataActions\";\n\nclass user extends Component {\n  state = {\n    profile: null,\n    screamIdParam: null,\n  };\n  componentDidMount() {\n    const handle = this.props.match.params.handle;\n    const screamId = this.props.match.params.screamId;\n    this.props.getUserData(handle);\n\n    if (screamId) this.setState({ screamIdParam: screamId });\n\n    axios\n      .get(`/user/${handle}`)\n      .then((res) => {\n        this.setState({\n          profile: res.data.user,\n        });\n      })\n      .catch((err) => console.log(err));\n  }\n  render() {\n    const { screams, loading } = this.props.data;\n    const { screamIdParam } = this.state;\n\n    const screamsMarkup = loading ? (\n      <ScreamSkeleton />\n    ) : screams === null ? (\n      <p>No screams from this user</p>\n    ) : !screamIdParam ? (\n      screams.map((scream) => <Scream key={scream.screamId} scream={scream} />)\n    ) : (\n      screams.map((scream) => {\n        if (scream.screamId !== screamIdParam)\n          return <Scream key={scream.screamId} scream={scream} />;\n        else return <Scream key={scream.screamId} scream={scream} openDialog />;\n      })\n    );\n\n    return (\n      <Grid container spacing={10}>\n        <Grid item sm={8} xs={12}>\n          {screamsMarkup}\n        </Grid>\n        <Grid item sm={4} xs={12}>\n          {this.state.profile === null ? (\n            <ProfileSkeleton />\n          ) : (\n            <StaticProfile profile={this.state.profile} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nuser.propTypes = {\n  getUserData: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  data: state.data,\n});\n\nexport default connect(mapStateToProps, { getUserData })(user);\n"]},"metadata":{},"sourceType":"module"}