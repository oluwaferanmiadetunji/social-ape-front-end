{"ast":null,"code":"import _classCallCheck from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _objectSpread from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component,Fragment}from'react';import withStyles from'@material-ui/core/styles/withStyles';import{Link}from'react-router-dom';import dayjs from'dayjs';import EditDetails from'./EditDetails';import MyButton from'../../util/MyButton';import ProfileSkeleton from\"../../util/ProfileSkeleton\";// REDUX\nimport{connect}from'react-redux';import{logoutUser,uploadImage}from'../../redux/actions/userActions';//MUI\nimport Button from'@material-ui/core/Button';import Paper from'@material-ui/core/Paper';import MuiLink from'@material-ui/core/Link';import Typography from'@material-ui/core/Typography';//Icons\nimport LocationOn from'@material-ui/icons/LocationOn';import LinkIcon from'@material-ui/icons/Link';import CalendarToday from'@material-ui/icons/CalendarToday';import EditIcon from'@material-ui/icons/Edit';import KeyboardReturn from'@material-ui/icons/KeyboardReturn';var styles=function styles(theme){return _objectSpread({},theme.classes);};var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleImageChange=function(event){var image=event.target.files[0];var formData=new FormData();formData.append('image',image,image.name);_this.props.uploadImage(formData);};_this.handleEditPicture=function(){var fileInput=document.getElementById('imageInput');fileInput.click();};_this.handleLogout=function(){_this.props.logoutUser();};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,_this$props$user=_this$props.user,_this$props$user$cred=_this$props$user.credentials,handle=_this$props$user$cred.handle,createdAt=_this$props$user$cred.createdAt,imageUrl=_this$props$user$cred.imageUrl,bio=_this$props$user$cred.bio,website=_this$props$user$cred.website,location=_this$props$user$cred.location,loading=_this$props$user.loading,authenticated=_this$props$user.authenticated;var profileMarkup=!loading?authenticated?/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(\"div\",{className:classes.profile},/*#__PURE__*/React.createElement(\"div\",{className:\"image-wrapper\"},/*#__PURE__*/React.createElement(\"img\",{className:\"profile-image\",src:imageUrl,alt:\"Profile\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"imageInput\",hidden:\"hidden\",onChange:this.handleImageChange}),/*#__PURE__*/React.createElement(MyButton,{tip:\"Edit profile picture\",onClick:this.handleEditPicture,btnClassName:\"button\"},/*#__PURE__*/React.createElement(EditIcon,{color:\"primary\"}))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-details\"},/*#__PURE__*/React.createElement(MuiLink,{component:Link,to:\"/users/\".concat(handle),color:\"primary\",variant:\"h5\"},\"@\",handle),/*#__PURE__*/React.createElement(\"hr\",null),bio&&/*#__PURE__*/React.createElement(Typography,{variant:\"body2\"},bio),/*#__PURE__*/React.createElement(\"hr\",null),location&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LocationOn,{color:\"primary\"}),\" \",/*#__PURE__*/React.createElement(\"span\",null,location),/*#__PURE__*/React.createElement(\"hr\",null)),website&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LinkIcon,{color:\"primary\"}),/*#__PURE__*/React.createElement(\"a\",{href:website,target:\"_blank\",rel:\"noopener noreferrer\"},'  ',website),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(CalendarToday,{color:\"primary\"}),'  ',/*#__PURE__*/React.createElement(\"span\",null,\"Joined \",dayjs(createdAt).format('MMM YYYY'))),/*#__PURE__*/React.createElement(MyButton,{tip:\"Logout\",onClick:this.handleLogout},/*#__PURE__*/React.createElement(KeyboardReturn,{color:\"primary\"})),/*#__PURE__*/React.createElement(EditDetails,null))):/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",align:\"center\"},\"No profile found, please login again\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttons},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",component:Link,to:\"/login\"},\"Login\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",component:Link,to:\"/signup\"},\"Signup\"))):/*#__PURE__*/React.createElement(ProfileSkeleton,null);return profileMarkup;}}]);return Profile;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapActionsToProps={logoutUser:logoutUser,uploadImage:uploadImage};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(Profile));","map":{"version":3,"sources":["/home/afe/Documents/project/Social Ape/social-ape-client/src/components/profile/Profile.js"],"names":["React","Component","Fragment","withStyles","Link","dayjs","EditDetails","MyButton","ProfileSkeleton","connect","logoutUser","uploadImage","Button","Paper","MuiLink","Typography","LocationOn","LinkIcon","CalendarToday","EditIcon","KeyboardReturn","styles","theme","classes","Profile","handleImageChange","event","image","target","files","formData","FormData","append","name","props","handleEditPicture","fileInput","document","getElementById","click","handleLogout","user","credentials","handle","createdAt","imageUrl","bio","website","location","loading","authenticated","profileMarkup","paper","profile","format","buttons","mapStateToProps","state","mapActionsToProps"],"mappings":"01BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,UAAP,KAAuB,qCAAvB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,eAAP,KAA4B,4BAA5B,CAEA;AACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,iCAAxC,CAEA;AACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CAEA;AACA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,0BACVA,KAAK,CAACC,OADI,GAAf,C,GAKMC,CAAAA,O,+TACJC,iB,CAAoB,SAACC,KAAD,CAAW,CAC7B,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAd,CACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBL,KAAzB,CAAgCA,KAAK,CAACM,IAAtC,EACA,MAAKC,KAAL,CAAWvB,WAAX,CAAuBmB,QAAvB,EACD,C,OACDK,iB,CAAoB,UAAM,CACxB,GAAMC,CAAAA,SAAS,CAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAlB,CACAF,SAAS,CAACG,KAAV,GACD,C,OACDC,Y,CAAe,UAAM,CACnB,MAAKN,KAAL,CAAWxB,UAAX,GACD,C,0EACQ,iBAQH,KAAKwB,KARF,CAELX,OAFK,aAELA,OAFK,8BAGLkB,IAHK,wCAIHC,WAJG,CAKDC,MALC,uBAKDA,MALC,CAKOC,SALP,uBAKOA,SALP,CAKkBC,QALlB,uBAKkBA,QALlB,CAK4BC,GAL5B,uBAK4BA,GAL5B,CAKiCC,OALjC,uBAKiCA,OALjC,CAK0CC,QAL1C,uBAK0CA,QAL1C,CAMAC,OANA,kBAMAA,OANA,CAMSC,aANT,kBAMSA,aANT,CAUP,GAAIC,CAAAA,aAAa,CAAG,CAACF,OAAD,CAClBC,aAAa,cACX,oBAAC,KAAD,EAAO,SAAS,CAAE3B,OAAO,CAAC6B,KAA1B,eACE,2BAAK,SAAS,CAAE7B,OAAO,CAAC8B,OAAxB,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAER,QAApC,CAA8C,GAAG,CAAC,SAAlD,EADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,YAFL,CAGE,MAAM,CAAC,QAHT,CAIE,QAAQ,CAAE,KAAKpB,iBAJjB,EAFF,cAQE,oBAAC,QAAD,EAAU,GAAG,CAAC,sBAAd,CAAqC,OAAO,CAAE,KAAKU,iBAAnD,CAAsE,YAAY,CAAC,QAAnF,eACE,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,EADF,CARF,CADF,cAaE,8BAbF,cAcE,2BAAK,SAAS,CAAC,iBAAf,eACE,oBAAC,OAAD,EAAS,SAAS,CAAE/B,IAApB,CAA0B,EAAE,kBAAYuC,MAAZ,CAA5B,CAAkD,KAAK,CAAC,SAAxD,CAAkE,OAAO,CAAC,IAA1E,MACIA,MADJ,CADF,cAIE,8BAJF,CAKGG,GAAG,eAAI,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,EAA6BA,GAA7B,CALV,cAME,8BANF,CAOGE,QAAQ,eACP,oBAAC,QAAD,mBACE,oBAAC,UAAD,EAAY,KAAK,CAAC,SAAlB,EADF,kBACiC,gCAAOA,QAAP,CADjC,cAEE,8BAFF,CARJ,CAaGD,OAAO,eACN,oBAAC,QAAD,mBACE,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,EADF,cAEE,yBAAG,IAAI,CAAEA,OAAT,CAAkB,MAAM,CAAC,QAAzB,CAAkC,GAAG,CAAC,qBAAtC,EACG,IADH,CACSA,OADT,CAFF,cAKE,8BALF,CAdJ,cAsBE,oBAAC,aAAD,EAAe,KAAK,CAAC,SAArB,EAtBF,CAsBoC,IAtBpC,cAuBI,0CAAc1C,KAAK,CAACuC,SAAD,CAAL,CAAiBU,MAAjB,CAAwB,UAAxB,CAAd,CAvBJ,CAdF,cAuCE,oBAAC,QAAD,EAAU,GAAG,CAAC,QAAd,CAAuB,OAAO,CAAE,KAAKd,YAArC,eACE,oBAAC,cAAD,EAAgB,KAAK,CAAC,SAAtB,EADF,CAvCF,cA0CE,oBAAC,WAAD,MA1CF,CADF,CADW,cAgDX,oBAAC,KAAD,EAAO,SAAS,CAAEjB,OAAO,CAAC6B,KAA1B,eACE,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,QAAlC,yCADF,cAIE,2BAAK,SAAS,CAAE7B,OAAO,CAACgC,OAAxB,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,CAAEnD,IAAvD,CAA6D,EAAE,CAAC,QAAhE,UADF,cAEE,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,WAAlC,CAA8C,SAAS,CAAEA,IAAzD,CAA+D,EAAE,CAAC,SAAlE,WAFF,CAJF,CAjDgB,cA4DlB,oBAAC,eAAD,MA5DF,CA+DA,MAAO+C,CAAAA,aAAP,CACD,C,qBAxFmBlD,S,EA2FtB,GAAMuD,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClChB,IAAI,CAAEgB,KAAK,CAAChB,IADsB,CAAZ,EAAxB,CAIA,GAAMiB,CAAAA,iBAAiB,CAAG,CAAEhD,UAAU,CAAVA,UAAF,CAAcC,WAAW,CAAXA,WAAd,CAA1B,CASA,cAAeF,CAAAA,OAAO,CAAC+C,eAAD,CAAkBE,iBAAlB,CAAP,CAA4CvD,UAAU,CAACkB,MAAD,CAAV,CAAmBG,OAAnB,CAA5C,CAAf","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport { Link } from 'react-router-dom'\nimport dayjs from 'dayjs'\nimport EditDetails from './EditDetails';\nimport MyButton from '../../util/MyButton'\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\n\n// REDUX\nimport { connect } from 'react-redux';\nimport { logoutUser, uploadImage } from '../../redux/actions/userActions'\n\n//MUI\nimport Button from '@material-ui/core/Button'\nimport Paper from '@material-ui/core/Paper'\nimport MuiLink from '@material-ui/core/Link'\nimport Typography from '@material-ui/core/Typography'\n\n//Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit'\nimport KeyboardReturn from '@material-ui/icons/KeyboardReturn'\n\n\nconst styles = (theme) => ({\n  ...theme.classes\n})\n\n\nclass Profile extends Component {\n  handleImageChange = (event) => {\n    const image = event.target.files[0];\n    const formData = new FormData();\n    formData.append('image', image, image.name);\n    this.props.uploadImage(formData);\n  }\n  handleEditPicture = () => {\n    const fileInput = document.getElementById('imageInput');\n    fileInput.click();\n  }\n  handleLogout = () => {\n    this.props.logoutUser()\n  }\n  render() {\n    const { \n      classes, \n      user: { \n        credentials: { \n          handle, createdAt, imageUrl, bio, website, location \n        }, loading, authenticated\n      }\n    } = this.props;\n\n    let profileMarkup = !loading ? (\n      authenticated ? (\n        <Paper className={classes.paper}>\n          <div className={classes.profile}>\n            <div className=\"image-wrapper\">\n              <img className=\"profile-image\" src={imageUrl} alt=\"Profile\" />\n              <input \n                type=\"file\" \n                id=\"imageInput\" \n                hidden=\"hidden\" \n                onChange={this.handleImageChange} \n              />\n              <MyButton tip=\"Edit profile picture\" onClick={this.handleEditPicture} btnClassName=\"button\">\n                <EditIcon color=\"primary\" />\n              </MyButton>\n            </div>\n            <hr />\n            <div className=\"profile-details\">\n              <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n                @{handle}\n              </MuiLink>\n              <hr />\n              {bio && <Typography variant=\"body2\">{bio}</Typography>}\n              <hr />\n              {location && (\n                <Fragment>\n                  <LocationOn color=\"primary\" /> <span>{location}</span>\n                  <hr />\n                </Fragment>\n              )}\n              {website && (\n                <Fragment>\n                  <LinkIcon color=\"primary\" />\n                  <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {'  '}{website}\n                  </a>\n                  <hr />\n                </Fragment>\n              )}\n              <CalendarToday color=\"primary\" />{'  '}\n                <span>Joined {dayjs(createdAt).format('MMM YYYY')}</span>\n            </div>\n            <MyButton tip=\"Logout\" onClick={this.handleLogout}>\n              <KeyboardReturn color=\"primary\" />\n            </MyButton>\n            <EditDetails />\n          </div>\n        </Paper>\n      ) : (\n        <Paper className={classes.paper}>\n          <Typography variant=\"body2\" align=\"center\">\n            No profile found, please login again\n          </Typography>\n          <div className={classes.buttons}>\n            <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/login\">Login</Button>\n            <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/signup\">Signup</Button>\n          </div>\n        </Paper>\n      )\n    ) : (\n      <ProfileSkeleton />\n    )\n\n    return profileMarkup\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user\n})\n\nconst mapActionsToProps = { logoutUser, uploadImage }\n\nProfile.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired,\n  user: PropTypes.object.isRequired\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(Profile))\n"]},"metadata":{},"sourceType":"module"}