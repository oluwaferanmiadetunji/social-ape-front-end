{"ast":null,"code":"import _defineProperty from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _objectSpread from\"/home/afe/Documents/project/Social Ape/social-ape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component}from\"react\";import withStyles from\"@material-ui/core/styles/withStyles\";//MUI\nimport Button from\"@material-ui/core/Button\";import Grid from\"@material-ui/core/Grid\";import TextField from\"@material-ui/core/TextField\";//Redux\nimport{connect}from\"react-redux\";import{submitComment}from\"../../redux/actions/dataActions\";var styles=function styles(theme){return _objectSpread({},theme.classes);};var CommentForm=/*#__PURE__*/function(_Component){_inherits(CommentForm,_Component);var _super=_createSuper(CommentForm);function CommentForm(){var _this;_classCallCheck(this,CommentForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={body:\"\",errors:{}};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();_this.props.submitComment(_this.props.screamId,{body:_this.state.body});};return _this;}_createClass(CommentForm,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.UI.errors){this.setState({errors:nextProps.UI.errors});}if(!nextProps.UI.errors&&!nextProps.UI.loading){this.setState({body:\"\",errors:{}});}}},{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,authenticated=_this$props.authenticated;var errors=this.state.errors;var commentFormMarkup=authenticated?/*#__PURE__*/React.createElement(Grid,{item:true,sm:12,style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(TextField,{name:\"body\",type:\"text\",label:\"Comment on scream\",error:errors.comment?true:false,helperText:errors.comment,value:this.state.body,variant:\"outlined\",onChange:this.handleChange,fullWidth:true,className:classes.textfield}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:classes.button},\"Submit\"),/*#__PURE__*/React.createElement(\"hr\",{className:classes.visibleSeperator}))):null;return commentFormMarkup;}}]);return CommentForm;}(Component);var mapStateToProps=function mapStateToProps(state){return{UI:state.UI,authenticated:state.user.authenticated};};export default connect(mapStateToProps,{submitComment:submitComment})(withStyles(styles)(CommentForm));","map":{"version":3,"sources":["/home/afe/Documents/project/Social Ape/social-ape-client/src/components/scream/CommentForm.js"],"names":["React","Component","withStyles","Button","Grid","TextField","connect","submitComment","styles","theme","classes","CommentForm","state","body","errors","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","props","screamId","nextProps","UI","loading","authenticated","commentFormMarkup","textAlign","comment","textfield","button","visibleSeperator","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\n//MUI\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\n\n//Redux\nimport { connect } from \"react-redux\";\nimport { submitComment } from \"../../redux/actions/dataActions\";\n\nconst styles = (theme) => ({\n  ...theme.classes,\n});\n\nclass CommentForm extends Component {\n  state = {\n    body: \"\",\n    errors: {},\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({ errors: nextProps.UI.errors });\n    }\n    if (!nextProps.UI.errors && !nextProps.UI.loading) {\n      this.setState({\n        body: \"\",\n        errors: {},\n      });\n    }\n  }\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.submitComment(this.props.screamId, { body: this.state.body });\n  };\n  render() {\n    const { classes, authenticated } = this.props;\n    const { errors } = this.state;\n\n    const commentFormMarkup = authenticated ? (\n      <Grid item sm={12} style={{ textAlign: \"center\" }}>\n        <form onSubmit={this.handleSubmit}>\n          <TextField\n            name='body'\n            type='text'\n            label='Comment on scream'\n            error={errors.comment ? true : false}\n            helperText={errors.comment}\n            value={this.state.body}\n            variant='outlined'\n            onChange={this.handleChange}\n            fullWidth\n            className={classes.textfield}\n          />\n          <Button\n            type='submit'\n            variant='contained'\n            color='primary'\n            className={classes.button}>\n            Submit\n          </Button>\n          <hr className={classes.visibleSeperator} />\n        </form>\n      </Grid>\n    ) : null;\n    return commentFormMarkup;\n  }\n}\n\nCommentForm.propTypes = {\n  submitComment: PropTypes.func.isRequired,\n  UI: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n  screamId: PropTypes.string.isRequired,\n  authenticated: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  UI: state.UI,\n  authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps, { submitComment })(\n  withStyles(styles)(CommentForm),\n);\n"]},"metadata":{},"sourceType":"module"}